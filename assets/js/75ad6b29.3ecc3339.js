"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[483],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>g});var n=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(r),h=i,g=u["".concat(l,".").concat(h)]||u[h]||d[h]||a;return r?n.createElement(g,o(o({ref:t},p),{},{components:r})):n.createElement(g,o({ref:t},p))}));function g(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=r.length,o=new Array(a);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:i,o[1]=s;for(var c=2;c<a;c++)o[c]=r[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}h.displayName="MDXCreateElement"},348:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var n=r(7462),i=(r(7294),r(3905));const a={slug:"song tracking",title:"How Track My Spotify Songs",tags:["cloud","webdev","spotify"],date:new Date("2022-01-26T00:00:00.000Z")},o=void 0,s={permalink:"/song tracking",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/spotify/index.md",source:"@site/blog/spotify/index.md",title:"How Track My Spotify Songs",description:"Spotify Wrapped is cool, but I wanted to gain a more in-depth understanding of my music listening habits. Unfortunately, Spotify's API doesn't provide full access to your listening history. The next best option is to fetch the latest 50 tracks you've listened to. With this limitation in mind, I set out to create a project that could start recording all the songs I listened to and perform data analysis on them.",date:"2022-01-26T00:00:00.000Z",formattedDate:"January 26, 2022",tags:[{label:"cloud",permalink:"/tags/cloud"},{label:"webdev",permalink:"/tags/webdev"},{label:"spotify",permalink:"/tags/spotify"}],readingTime:1.565,hasTruncateMarker:!0,authors:[],frontMatter:{slug:"song tracking",title:"How Track My Spotify Songs",tags:["cloud","webdev","spotify"],date:"2022-01-26T00:00:00.000Z"},nextItem:{title:"IWild Cam 2019",permalink:"/iwild cam 2019"}},l={authorsImageUrls:[]},c=[{value:"Architecture",id:"architecture",level:2},{value:"Registration/Viewing",id:"registrationviewing",level:2},{value:"Saving History",id:"saving-history",level:2}],p={toc:c},u="wrapper";function d(e){let{components:t,...a}=e;return(0,i.kt)(u,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Spotify Wrapped is cool, but I wanted to gain a more in-depth understanding of my music listening habits. Unfortunately, Spotify's API doesn't provide full access to your listening history. The next best option is to fetch the latest 50 tracks you've listened to. With this limitation in mind, I set out to create a project that could start recording all the songs I listened to and perform data analysis on them."),(0,i.kt)("h2",{id:"architecture"},"Architecture"),(0,i.kt)("p",null,"The basic architecture of the app consists of a serverless function that runs every 6 hours to fetch the latest songs you've listened to and stores them in a database. I can then query this database to perform various analyses. Additionally, I developed a web app that acts as an API, allowing users to register to have their own history tracked and proivide a full history of their songs."),(0,i.kt)("p",null,"To implement this I decided to leverage AWS services for fetching and storing the latest songs, while deploying the web app for registration and song viewing on Heroku."),(0,i.kt)("p",null,"Below is a high-level architecture diagram illustrating the components involved:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Architecture Diagram",src:r(389).Z,width:"481",height:"542"})),(0,i.kt)("h2",{id:"registrationviewing"},"Registration/Viewing"),(0,i.kt)("p",null,"For registration and song viewing, I utilized ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/spotipy-dev/spotipy"},"Spotify")," for interfacing with Spotify's API and built the web app using Flask. The app is then deployed on Heroku, providing a seamless experience for users to register and access their tracked songs."),(0,i.kt)("h2",{id:"saving-history"},"Saving History"),(0,i.kt)("p",null,"To save the song history, I employed CloudWatch to trigger a function every 6 hours. This function fetches the users from the database and retrieves their latest songs, which are then added to DynamoDB for storage."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Sequence Diagram",src:r(5477).Z,width:"519",height:"273"})),(0,i.kt)("p",null,"By tracking all the songs I listen to over the next year, I'll be able to create a more comprehensive Spotify Wrapped experience, delving deeper into my music preferences and habits."),(0,i.kt)("p",null,"Here is a ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ShaunSpinelli/spotify_history"},"LINK")," to the repo and the specfic ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ShaunSpinelli/spotify_history/blob/master/lambdas/lambda_function.py"},"lambda")," for fetcing the latest songs."))}d.isMDXComponent=!0},5477:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/fetch-songs-seq-68f02cba2356027e9e4862b2bf3dc072.png"},389:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/spotify-hist-arch-f2f395768a29208ecf77e96bc279612e.png"}}]);